<!DOCTYPE html>
<html>
	<head>
		<title>go-quantstudio</title>
		<script src="/plotly-2.16.1.min.js"></script>
		<script src="/chart.js"></script>
		<style>
				:root {
					--chartWidth: 1200px;
				}
				#symbol {
					width: 4em;
					/* margin-left: 1em; */
					margin-right: 1em;
				}
				#maLength {
					width: 4em;
					/* margin-left: 1em; */
					margin-right: 1em;
				}
				#process {
					margin-left: 1em;
					margin-right: 1em;
				}
				#downloadData{
					margin-left: 1em;
					margin-right: 1em;
				}
				#symbols {
					overflow-y: scroll;
					resize: none;
					width: 20em;
					height: 4em;
				}
				#chart {
					width: var(--chartWidth);
					height: 800px;
				}
				#tradeHistory {
  					width: var(--chartWidth);
  					height: 20em;
				}
		</style>
	</head>
	<body>
		<h3>go-quantstudio</h3>
		Symbol: <input id="symbol" value="spy" >  MaLength: <input id="maLength" value="200">
		<button id="process">Process</button>
		<button id="downloadData">Download Data</button>
		<label for="symbols">Loaded symbols</label>
		<textarea readonly id="symbols" name="symbols"></textarea>
		<hr />
		<div id="chart"></div>
		<div id="history">
			<p><label for="tradeHistory">Trade history:</label></p>
			<textarea readonly id="tradeHistory" name="tradeHistory"></textarea>
		</div>
	</body>
	<script>
		var inputSymbol = document.getElementById("symbol");
		inputSymbol.addEventListener("keypress", function(event) {
		  if (event.key === "Enter") {
			event.preventDefault();
			document.getElementById("process").click();
		  }
		});

		var inputMALength = document.getElementById("maLength");
		inputMALength.addEventListener("keypress", function(event) {
		  if (event.key === "Enter") {
			event.preventDefault();
			document.getElementById("process").click();
		  }
		});

		loadSymbols();
	</script>
</html>